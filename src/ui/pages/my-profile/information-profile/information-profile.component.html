<div class="contenedor">
    @if(type=='user'){
        <div class="profile-container">
            <div class="description-card">
                <h3 class="section-title">Acerca de mí:</h3>
                <p class="description-text">
                    @if(user.getAboutMe()){
                        {{user.getAboutMe()}}
                    }@else {
                        Aún no se ha añadido una descripción
                    }
                </p>
            </div>
        
            <div class="topics-container">
                <div class="topic-section">
                    <h3 class="section-title">Mentor:</h3>
                    <div class="topic-container">
                        @for (userPref of userPreferences(); track $index) {
                            @if (userPref.getType() === "mentor" && userPref.getId() !== 0) {
                                <div class="topic-chip" (click)="showInformation(userPref)">{{userPref.getTopicName()}}</div>
                            }
                        }
                    </div>
                </div>
        
                <div class="topic-section">
                    <h3 class="section-title">Entusiasta:</h3>
                    <div class="topic-container">
                        @for (userPref of userPreferences(); track $index) {
                            @if (userPref.getType() === "entusiasta" && userPref.getId() !== 0) {
                                <div class="topic-chip">{{userPref.getTopicName()}}</div>
                            }
                        }
                    </div>
                </div>
        
                <div class="topic-section">
                    <h3 class="section-title">Explorador:</h3>
                    <div class="topic-container">
                        @for (userPref of userPreferences(); track $index) {
                            @if (userPref.getType() === "explorador" && userPref.getId() !== 0) {
                                <div class="topic-chip">{{userPref.getTopicName()}}</div>
                            }
                        }
                    </div>
                </div>
            </div>
        
            @if (isPrimary()) {
                <div class="button-container">
                    <app-button text="Postear" (clickEvent)="createPost()" class="primary-button"></app-button>
                    <app-button text="Editar perfil" (clickEvent)="editProfile()" class="secondary-button"></app-button>
                </div>
            }
        </div>
    }@else if(type === 'group'){
    <div class="description">
        <h4>Acerca de el grupo:</h4>
        <p>
            @if(group.getDescription()){
            {{group.getDescription()}}
            }@else {
            Aun no se ha añadido una descripcion
            }
        </p>
    </div>

    @if(typeMember()==='admin'){
    <div class="buttons">
        <app-button text="Postear" (clickEvent)="createPost()"></app-button>
        <app-button text="Editar grupo" (clickEvent)="editProfile()"></app-button>
        <app-button text="Solicitudes" (clickEvent)="showApplies()"></app-button>
    </div>
    }@else if(typeMember()==='member'){
    <div class="buttons">
        <app-button text="Postear" (clickEvent)="createPost()"></app-button>
    </div>
    }@else if (typeMember()==='no-member') {
    <app-button text="Unirse al grupo" (clickEvent)="getInGroup()"></app-button>
    }

    }
</div>
@if(create_post() && type=='user'){
<app-modal-post (clickEvent)="createPost()" [myUser]="user.getUserDemo()" [type]="'post'"></app-modal-post>
}
@else if (create_post()) {
<app-modal-post-group (clickEvent)="createPost()" [type]="group.getType()" [group]="group"></app-modal-post-group>
}

@if(edit_profile() && !group){
<app-edit-profile [user]="user" (clickEvent)="editProfile()"></app-edit-profile>
}@else if(edit_profile()){
<app-edit-group (clickEvent)="editProfile()" [group]="group"></app-edit-group>
}

@if(showModalPreference()){
<p-dialog [visible]="true" [modal]="true" [style]="{ width: '25rem' }">
    <div class="div-info">
        <h2>{{userPref.getTopicName()}}</h2>
        <h3>Tipo: {{userPref.getType()}}</h3>
        @if (userPref.getTags()!.length > 0) {
        <h3>Etiquetas relacionadas:</h3>
        @for (item of userPref.getTags(); track $index) {
        <p-chip [label]="item.getTagName()"></p-chip>
        }
        }
        <app-button text="Agregar etiquetas"></app-button>
    </div>
</p-dialog>
}

<!-- @if (noAccess()) {
    <p-dialog [visible]="true" [modal]="true" [style]="{ width: '25rem' }">
        <div class="div-info">
            <h2>Este grupo es privado, tienes que enviar una solicitud para poder unirte a el</h2>
            <app-button text="Enviar solicitud"></app-button>
        </div>
    </p-dialog>
} -->

@if(showApply()){
<app-modal-post-group (clickEvent)="showApplies()" [applies]="showApply"></app-modal-post-group>
}