<p-dialog [modal]="true" [(visible)]="visible" [style]="{ width: '40rem', height:'40rem' }" [closable]="false"
    [dismissableMask]="true" [draggable]="false">
    <form [formGroup]="loginForm" (ngSubmit)="submit()" novalidate>
        <div class="container">
            <div class="title text-center mb-5 mt-5">
                <h2>Iniciar sesion en TalkZone</h2>
            </div>
            <div>
                <div class="mb-3">
                    <input pInputText type="text" id="username" formControlName="username" class="w-100" [style]='{width:"100%"}'
                        placeholder="Nombre de usuario o email">
                </div>

                <div class="mb-3">
                    <p-password type="text" id="password" placeholder="Contraseña" formControlName="password"
                        [feedback]="false" [toggleMask]="true" [inputStyle]="{width:'100%'}" [style]='{width:"100%"}' />
                </div>

                <div class="mb-1">
                    <p class="forgotPassword" (click)="forgotPassword()">¿Olvidaste tu contraseña?</p>
                </div>

            </div>
            <div class="mt-5">
                <app-button text="Siguiente" (clickEvent)="login()" />
            </div>
        </div>
    </form>
</p-dialog>

<p-dialog [modal]="true" [(visible)]="visiblePassword" [style]="{ width: '40rem', height:'40rem' }" [closable]="false" [draggable]="false">
    <div class="flex justify-content-center">
        <form [formGroup]="passwordForm" (ngSubmit)="submit()" novalidate>
            <p-stepper [linear]="true" [activeStep]="activeStep">
                <p-stepperPanel>
                    <ng-template pTemplate="content">
                        <div class="container">
                            <div class="title text-center">
                                <h2>Recuperar contraseña</h2>
                            </div>

                            <div class="mt-3">
                                <p>Introduce el correo electrónico asociado a tu cuenta para cambiar tu contraseña.</p>
                            </div>

                            <div class="mb-3">
                                <input pInputText type="text" id="email" formControlName="email" class="w-100"
                                    placeholder="Correo electrónico">
                            </div>

                            <div class="mt-3">
                                <app-button text="Siguiente" (clickEvent)="processPassword()"/>
                            </div>
                        </div>
                    </ng-template>
                </p-stepperPanel>
                <p-stepperPanel>
                    <ng-template pTemplate="content">
                        <div class="container text-center">
                            <h2>Hemos enviado un codigo de verificación</h2>
                        </div>
                        <div class="form">
                            <div class="d-flex justify-content-center align-items-center">
                                <p-inputOtp formControlName="code" [length]="6" />
                            </div>

                        </div>
                        <div class="mt-3">
                            <app-button text="Siguiente"  (clickEvent)="processPassword()"/>
                        </div>
                    </ng-template>
                </p-stepperPanel>
                <p-stepperPanel>
                    <ng-template pTemplate="content">
                        <div class="container text-center">
                            <h2>Restablece tu contraseña</h2>
                        </div>
                        <div class="form">
                            <div class="mb-3">
                                <p-password type="text" id="password" placeholder="Contraseña"
                                    formControlName="password" [feedback]="false" [toggleMask]="true"
                                    [inputStyle]="{width:'100%'}" [style]='{width:"100%"}' />
                            </div>
                            <div class="mb-3">
                                <p-password type="text" id="repeatPassword" placeholder="Repetir contraseña"
                                    formControlName="repeatPassword" [feedback]="false" [toggleMask]="true"
                                    [inputStyle]="{width:'100%'}" [style]='{width:"100%"}' />
                            </div>
                        </div>
                        <div class="mt-3">
                            <app-button text="Siguiente" (clickEvent)="processPassword()"/>
                        </div>
                    </ng-template>
                </p-stepperPanel>
            </p-stepper>
        </form>

    </div>
</p-dialog>